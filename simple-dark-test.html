<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>黑暗模式测试 - 简化版</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">
  <div class="container mx-auto p-8">
    <h1 class="text-3xl font-bold mb-6 dark:text-white">黑暗模式测试</h1>
    
    <button id="toggleBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded mb-6">
      切换黑暗模式
    </button>
    
    <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold mb-4 dark:text-white">测试卡片</h2>
      <p class="text-gray-600 dark:text-gray-300">这是一个测试卡片，用于验证黑暗模式是否正常工作。</p>
    </div>
    
    <div class="mt-6">
      <p id="status" class="text-sm text-gray-500 dark:text-gray-400">当前状态：光明模式</p>
      <p id="classInfo" class="text-sm text-gray-500 dark:text-gray-400 mt-2"></p>
    </div>
  </div>

  <script>
    // 黑暗模式切换功能
    function toggleDarkMode() {
      const html = document.documentElement;
      const status = document.getElementById('status');
      const classInfo = document.getElementById('classInfo');
      const btn = document.getElementById('toggleBtn');
      
      if (html.classList.contains('dark')) {
        html.classList.remove('dark');
        status.textContent = '当前状态：光明模式';
        btn.textContent = '切换到黑暗模式';
        localStorage.setItem('darkMode', 'false');
      } else {
        html.classList.add('dark');
        status.textContent = '当前状态：黑暗模式';
        btn.textContent = '切换到光明模式';
        localStorage.setItem('darkMode', 'true');
      }
      
      classInfo.textContent = `HTML类列表：${html.className}`;
      console.log('黑暗模式切换完成，当前类列表：', html.className);
    }
    
    // 绑定事件
    document.getElementById('toggleBtn').addEventListener('click', toggleDarkMode);
    
    // 初始化状态
    const savedDarkMode = localStorage.getItem('darkMode') === 'true';
    if (savedDarkMode) {
      document.documentElement.classList.add('dark');
      document.getElementById('status').textContent = '当前状态：黑暗模式';
      document.getElementById('toggleBtn').textContent = '切换到光明模式';
    }
    
    // 显示初始类列表
    document.getElementById('classInfo').textContent = `HTML类列表：${document.documentElement.className}`;
  </script>
</body>
</html>